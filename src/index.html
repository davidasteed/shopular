<!DOCTYPE html>
<html lang='en' ng-app='shop'>
  <head>
    <meta charset="utf-8">
    <title>Shopular</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel='stylesheet' href='css/style.css'>
  </head>
  <body>
    <article>
      <header>
        <h1>Shopular</h1>
      </header>
      <main ng-controller='ShopController as shopCtl'>
        <h2>New Item</h2>
        <form
          name='additem'
          ng-submit='additem.$valid && shopCtl.addItem(shopCtl.newItem)'>
          <input
            type='text'
            name='name'
            placeholder='name'
            required
            ng-model='shopCtl.newItem.name'>
          <input
            type='text'
            name='price'
            placeholder='price'
            required
            ng-model='shopCtl.newItem.price'>
          <input
            type='text'
            name='quantity'
            placeholder='quantity'
            required
            ng-model='shopCtl.newItem.quantity'>
          <input
            type='text'
            name='color'
            placeholder='color'
            required
            ng-model='shopCtl.newItem.color'>
          <input
            type='text'
            name='discount'
            placeholder='discount'
            ng-model='shopCtl.newItem.discount'>
          <input type='submit' value='add item'>
        </form>

        <button class='btn btn-default'
          ng-click='shopCtl.switchCurrency()'>
          US / UK
        </button>
        <table class="table table-striped">
          <thead>
            <tr>
              <td>Name</td>
              <td>Price</td>
              <td>Quantity</td>
              <td>{{shopCtl.showColor()}}</td>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='item in shopCtl.inventory'>
              <td>{{shopCtl.showName(item)}}</td>
              <td ng-if='shopCtl.usa'>{{shopCtl.salePrice(item) | currency: '$ 2'}}
                <img ng-hide='item.discount <= 0'
                src='https://tiy-learn-content.s3.amazonaws.com/98350f05-sale_2.png'>
              </td>
              <td ng-if='!shopCtl.usa'>{{shopCtl.salePrice(item) | currency: '&pound 2'}}
                <img ng-hide='item.discount <= 0'
                src='https://tiy-learn-content.s3.amazonaws.com/98350f05-sale_2.png'>
              </td>
              <td>{{item.quantity}}</td>
              <td>{{item.color}}</td>
            </tr>
          </tbody>
        </table>
      </main>
      <footer></footer>
    </article>

    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js'></script>
    <script src='js/shop.module.js'></script>
    <script src='js/shop.controller.js'></script>
  </body>
</html>
